{% extends "Homepage/header.html" %}


{% block content %}
{%load staticfiles%}

<!DOCTYPE html>
<style>
form {
	padding-top: 30px;
	padding-left: 14px;
	width : 100%;
	color: black;
	font-weight:bold;
}

.btnokcount{
	font-weight:bold;
}

.okdep {
	color:green;
}

.nookdep {
	color:red;
}

div.container1 {
  font-weight: bold;
  background-color: white ;
  width: 100%;
  overflow: scroll;
  padding : 20px;
}

.table {
	font-size: 14px;
	color:black;
}

thead, tbody {
	padding : 2px;
}

tr.listtoschedule:hover {

	background-color: #CACFD2 ;
	
}

td.tdschedulelist {
	
	padding-top:2px;
	padding-bottom:2px;
	overflow:hidden;
	text-overflow: ellipsis;
	white-space: nowrap;

}

td.tdright {
	
	padding-top:2px;
	padding-bottom:2px;
	overflow:hidden;
	text-overflow: ellipsis;
	white-space: nowrap;
	color: green;

}
td.tdwrong {
	
	padding-top:2px;
	padding-bottom:2px;
	overflow:hidden;
	text-overflow: ellipsis;
	white-space: nowrap;
	color: red;

}

table{
border: 1px solid black;
    font-color:black

}

</style>
<head>
    <script src="https://code.jquery.com/jquery-3.3.1.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.7/angular.min.js"></script>
    <!-- 04/03/19 - Update the .JS so it always downloads a new one. This is done by appending random number to the end which tricks browser to get a new copy -->
    <!-- 08/14/19 moved authentication/login to views.py using django mixins -->

    <script>document.write('<script src="{% static 'HeatTreat/HeatTreat.js' %}?ver=' + Math.floor(Math.random() * 100) + '"\><\/script>');</script>
    
</head>


<body ng-app="HT.HeatTreat" >
    {% verbatim%}
    <div ng-controller="HeatTreatController">
     <table class="table" style="width:600px">  
         <tr>
             <th>Create New TTPI:</th>
             <th></th>
             <th></th>
        </tr>
        <tr>
            <td>Generated By: </td>
            <td> <select id="genByComboBox" ng-model="op" ng-options="op.operatorName for op in Operatordata | filter:{userActive : true}" style="width:85%" > </td>
            <td><button ng-click="openOperatorsPage()" style="width:100%">Open Operators Page</button></td>
        </tr>
        <tr>
            <td><label for="specNum">Spec Number:</label></td>
            <td>
                <select id="specNum" ng-model="fred" ng-options="spec as spec.specNumber +' Rev. ' + spec.specRevision for spec in specdata | filter:{mostCurrent : true}|unique : 'specNumber' " style="width:85%"/>
                   <!-- <select id="specNum" ng-model="fred" />-->
                       <!-- <option  ng-repeat="spec in specdata | filter:{mostCurrent : true}| limitTo: 1 ">{{spec.specNumber}}</option>-->
                </td>
            <td></td>
        </tr>
        <tr>
            <td><label for="specMat">Material Spec:</label></td>
            <td>
                <select id="specMat" ng-model="mat" ng-options="spec as spec.specMaterialSpec + ' REV. ' +spec.specMaterialSpecRevision for spec in specdata | filter:{specNumber : fred.specNumber,  mostCurrent : true}"  style="width:85%">
                    <!--<option ng-repeat="spec in specdata | filter:{specNumber : fred.specNumber, specMaterialSpecRevision : fred.specMaterialSpecRevision, specMasterReviewed: '', specMasterApproved: '', mostCurrent : true}">{{spec.specMaterialSpec}} Rev. {{spec.specMaterialSpecRevision}}</option> -->
                    <!--<option ng-repeat="spec in specdata | filter:{specNumber : fred.specNumber,  mostCurrent : true}">{{spec.specMaterialSpec}} Rev. {{spec.specMaterialSpecRevision}}</option> -->
                    
                </select>
            </td>
            <!--<td><input type="text" id="specMat" ng-model="specMaterial" placeholder="specMaterial"></input></td>-->
            <td><button ng-click="openSpecificationsPage()" style="width:100%">Open Specifications Page</button></td>
        </tr>
        <tr>
            
            <td><label for="workOrder">Work Order:</label></td>
            <td><input type="text" id="workOrder" ng-model="workOrderNumber" placeholder="WO# (Required)" style="width:85%"></input></td>
            <td></td>
        </tr>
        <tr>
            <td><label for="poNumber">PO Number:</label></td>
            <td><input type="text" id="poNum" ng-model="poNumber" placeholder="Full PO# (Required unless TEST order)" style="width:85%"></input></td>
            <td></td>
        </tr>

        <tr>
            <td><label for="loadQty">Number of Loads:</label></td>
            <td><input type="text" id="numLoads" ng-model="numLoads" placeholder="Loads# (Required)" style="width:85%"></input></td>
            <td></td>
        </tr>
        <tr>
            <td><label for="heatNum">Heat Lot#:</label></td>
            <td><input type="text" id="heatNum" ng-model="heatLot" placeholder="Heat Lot# (Optional)" style="width:85%"></input></td>
            <td></td>
        </tr>
        <tr>
            <td><label for="opNum">Operation#:</label></td>
            <td><input type="text" id="opNum" ng-model="operationNumber" placeholder="Operation# (Optional)" style="width:85%"></input></td>
            <td></td>
        </tr>


        <tr>
            <td></td>
            <!--<td><button ng-click="createTTPI(op, spec, workOrderNumber, numLoads )" style="width:100%"> Create New TTPI </button></td>-->
            <td><button ng-click="createTTPI(op, mat, workOrderNumber, numLoads, poNumber, heatLot, operationNumber )" style="width:100%"> Create New TTPI </button></td>
            <td></td>
        </tr>
    </table>
    {%endverbatim%}


</body>



{% endblock %}